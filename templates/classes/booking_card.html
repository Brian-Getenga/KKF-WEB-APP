<!-- Reusable booking card -->
<div class="bg-white rounded border-2 border-[#d6d3d1] p-8 shadow-sm {% if is_past %}opacity-75{% endif %}">
    <div class="flex justify-between items-start mb-6">
        <div>
            <h3 class="text-3xl font-black text-[#FFCD00] mb-2">
                {{ booking.karate_class.title }}
            </h3>
            <p class="text-[#525252]">
                {{ booking.karate_class.category }} ‚Ä¢ {{ booking.karate_class.level }}
            </p>
        </div>
        <div class="text-right">
            <span class="inline-block px-4 py-2 rounded-full text-sm font-bold
                {% if booking.status == 'Confirmed' %}bg-[#7ccf00] text-white
                {% elif booking.status == 'Pending' %}bg-[#FFCD00] text-black
                {% else %}bg-[#d6d3d1] text-white{% endif %}">
                {{ booking.get_status_display }}
            </span>
            <p class="text-sm text-[#525252] mt-2">
                Ref: <span class="font-mono">{{ booking.booking_reference }}</span>
            </p>
        </div>
    </div>

    <div class="grid md:grid-cols-3 gap-6 mb-8">
        <div>
            <p class="text-[#525252] text-sm mb-1">Instructor</p>
            <p class="font-bold text-[#525252]">{{ booking.karate_class.instructor.name }}</p>
            <p class="text-[#7ccf00]">ü•ã {{ booking.karate_class.instructor.belt_rank }}</p>
        </div>
        <div>
            <p class="text-[#525252] text-sm mb-1">Schedule</p>
            <p class="font-bold text-[#525252]">{{ booking.schedule.get_day_of_week_display }}</p>
            <p class="text-[#525252]">‚è∞ {{ booking.schedule.start_time|time:"g:i A" }} - {{ booking.schedule.end_time|time:"g:i A" }}</p>
        </div>
        <div>
            <p class="text-[#525252] text-sm mb-1">Location</p>
            <p class="font-bold text-[#525252]">{{ booking.schedule.location }}</p>
        </div>
    </div>

    {% if booking.amount_paid > 0 %}
        <div class="flex justify-between items-center py-4 border-t-2 border-[#d6d3d1]">
            <div>
                <p class="text-[#525252] font-bold">Amount Paid</p>
                {% if booking.mpesa_receipt_number %}
                    <p class="text-sm text-[#525252]">Receipt: {{ booking.mpesa_receipt_number }}</p>
                {% endif %}
            </div>
            <p class="text-3xl font-black text-[#7ccf00]">KES {{ booking.amount_paid }}</p>
        </div>
    {% endif %}

    <!-- Actions -->
    {% if show_actions or booking.status == 'Pending' %}
        <div class="flex flex-col sm:flex-row gap-4 mt-6">
            {% if booking.status == 'Pending' %}
                <a href="{% url 'classes:payment_pending' booking.id %}" 
                   class="flex-1 px-6 py-3 bg-[#FFCD00] text-black font-bold text-center rounded hover:bg-[#FBBF24] transition-colors">
                    Complete Payment
                </a>
                <a href="{% url 'classes:cancel_booking' booking.id %}" 
                   class="flex-1 px-6 py-3 border-2 border-[#fb2c36] text-[#fb2c36] font-bold text-center rounded hover:bg-[#fb2c36]/10 transition-colors">
                    Cancel
                </a>
            {% else %}
                <a href="{% url 'classes:class_detail' booking.karate_class.slug %}" 
                   class="flex-1 px-6 py-3 border-2 border-[#d6d3d1] text-[#525252] font-bold text-center rounded hover:border-[#FFCD00] transition-colors">
                    View Class
                </a>
            {% endif %}
        </div>
    {% endif %}
</div>